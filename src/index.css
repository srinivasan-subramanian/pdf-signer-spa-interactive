:root { --bg: #fff; --fg: #111827; --ring: #e5e7eb; --muted:#6b7280; }
* { box-sizing: border-box; }
html, body, #root { height: 100%; margin: 0; }
body { 
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; 
  color: var(--fg); 
  background: var(--bg);
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
}

.app { display:flex; height:100vh; }
.sidebar { width: 300px; border-right: 1px solid var(--ring); padding: 12px; overflow:auto; }
.viewer { flex:1; display:flex; flex-direction:column; min-width:0; }
.toolbar { display:flex; gap:8px; padding:10px; border-bottom:1px solid var(--ring); align-items:center; }
.dropzone { 
  border: 2px dashed var(--ring); 
  padding: 20px; 
  text-align:center; 
  color: var(--muted); 
  border-radius: 8px; 
  cursor:pointer;
  transition: all 0.2s;
}
.dropzone:active { transform: scale(0.98); }
.page-wrap { position:relative; margin: 12px auto; }
canvas.pdf-page { display:block; box-shadow:0 2px 8px rgba(0,0,0,0.1); max-width: 100%; height: auto; }
.sig-overlay { position:absolute; outline:2px dashed #3b82f6; }
.sig-img { 
  position:absolute; 
  cursor:move; 
  user-select:none; 
  border: 2px solid transparent; 
  transition: border-color 0.2s;
  touch-action: none;
}
.sig-img:hover { border-color: #3b82f6; }
.sig-img.selected { border-color: #ef4444; box-shadow: 0 0 0 1px #ef4444; }
.sig-handle { 
  position:absolute; 
  width:24px; 
  height:24px; 
  background:#3b82f6; 
  border:2px solid #fff; 
  border-radius:50%; 
  cursor:nwse-resize; 
  box-shadow: 0 2px 4px rgba(0,0,0,0.2); 
  z-index: 1000;
  touch-action: none;
}
.sig-handle:hover { background:#1d4ed8; }
button { 
  padding:12px 16px; 
  border:1px solid var(--ring); 
  border-radius:8px; 
  background:#fff; 
  cursor:pointer;
  min-height: 44px;
  transition: all 0.2s;
}
button:active { transform: scale(0.95); }
button.primary { background:#111827; color:#fff; }
.row { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.hint { color: var(--muted); font-size: 12px; }

/* Mobile Styles */
@media (max-width: 768px) {
  .app { 
    flex-direction: column; 
    height: 100vh;
  }
  
  .sidebar { 
    width: 100%; 
    border-right: none; 
    border-bottom: 1px solid var(--ring);
    padding: 8px;
    max-height: 40vh;
    overflow-y: auto;
  }
  
  .viewer { 
    flex: 1;
    min-height: 0;
  }
  
  .toolbar { 
    padding: 8px;
    font-size: 14px;
  }
  
  .dropzone { 
    padding: 16px;
    font-size: 14px;
  }
  
  .page-wrap { 
    margin: 8px auto;
    max-width: calc(100vw - 16px);
  }
  
  canvas.pdf-page { 
    width: 100%; 
    height: auto; 
  }
  
  .sig-handle { 
    width: 32px; 
    height: 32px;
  }
  
  button { 
    padding: 14px 18px; 
    font-size: 16px;
    min-height: 48px;
  }
  
  .row { 
    gap: 6px; 
  }
  
  .hint { 
    font-size: 11px; 
  }
  
  /* Signature panel adjustments */
  canvas { 
    width: 100% !important; 
    max-width: 320px; 
    height: auto !important; 
  }
  
  input[type="text"], input[type="file"] {
    font-size: 16px; /* Prevents zoom on iOS */
    padding: 12px;
    border-radius: 8px;
    border: 1px solid var(--ring);
  }
}

/* Extra small screens */
@media (max-width: 480px) {
  .sidebar {
    padding: 6px;
    max-height: 45vh;
  }
  
  .toolbar {
    flex-direction: column;
    align-items: flex-start;
    gap: 4px;
    padding: 6px;
  }
  
  .dropzone {
    padding: 12px;
  }
  
  .row {
    width: 100%;
  }
  
  button {
    width: 100%;
    margin-bottom: 4px;
  }
  
  .row button {
    flex: 1;
    width: auto;
    margin-bottom: 0;
  }
}